(this["webpackJsonp26-tmdb"]=this["webpackJsonp26-tmdb"]||[]).push([[0],{26:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t),c.d(t,"UserContext",(function(){return S}));var a=c(3),s=c(1),n=c(21),r=c.n(n),i=c(4),o=(c(26),c(2)),l=c(5),j=c.n(l),d=c(0),b=function(){var e=Object(s.useContext)(S),t=e.user,c=e.setUser,a=Object(o.h)();return t.id?Object(d.jsxs)("div",{className:"dropdown astCOlor",children:[Object(d.jsx)("i",{class:"fa-solid fa-user-astronaut fa-lg"}),Object(d.jsx)("div",{children:Object(d.jsx)("h6",{className:"text-white userS",children:t.userName})}),Object(d.jsxs)("div",{className:"dropdown-content",children:[Object(d.jsx)("a",{href:"/favorites",children:"Favorites"}),Object(d.jsx)("a",{href:"/upcomingMovies",onClick:function(e){j.a.post("/api/logout").then((function(e){return c({})})),a("/upcomingMovies")},children:"LogOut"})]})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.b,{to:"user/login",children:Object(d.jsx)("button",{className:"btn botonColorNav",children:"Login"})}),Object(d.jsx)(i.b,{to:"user/register",children:Object(d.jsx)("button",{className:"btn botonColorNav",children:"Register"})})]})},m=c(6),u=function(){var e=Object(s.useState)(""),t=Object(a.a)(e,2),c=t[0],n=t[1];return{value:c,onChange:function(e){n(e.target.value)}}},h=function(){var e=Object(s.useContext)(S).setSearched,t=u(),c=Object(o.h)();return Object(d.jsxs)("div",{className:"container-2 space",children:[Object(d.jsx)("img",{width:"30",className:"icon",src:"https://cdn-icons-png.flaticon.com/512/872/872355.png",alt:"icon"}),Object(d.jsx)("form",{onSubmit:function(a){a.preventDefault();var s=t.value.replace(/\s+/g,"+").toLowerCase();j.a.get("/api/search/".concat(s)).then((function(e){return e.data})).then((function(t){e(t.results),c("/search")})).catch((function(e){return console.log(e)}))},children:Object(d.jsx)("input",Object(m.a)(Object(m.a)({},t),{},{type:"search",id:"search",placeholder:"Search..."}))})]})},O=function(){var e=Object(s.useContext)(S),t=e.user,c=e.setUser;Object(s.useEffect)((function(){t&&j.a.get("/api/login/me").then((function(e){c(e.data)}))}),[]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark nav-color",children:[Object(d.jsx)(i.b,{to:"/upcomingMovies",children:Object(d.jsx)("img",{src:"https://see.fontimg.com/api/renderfont4/X3WjK/eyJyIjoiZnMiLCJoIjo1MSwidyI6MTAwMCwiZnMiOjUxLCJmZ2MiOiIjNzVDQUJFIiwiYmdjIjoiIzQ2NDY0NiIsInQiOjF9/TE9PUA/uncracked-free-trial.png",alt:"logo"})}),Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(d.jsxs)("div",{className:"navbar-nav ",children:[Object(d.jsx)(i.b,{to:"/popularMovies",children:Object(d.jsx)("a",{className:"nav-item nav-link",href:"/popularMovies",children:Object(d.jsx)("u",{className:"textGeneralNav",children:"Movies"})})}),Object(d.jsx)(i.b,{to:"/series",children:Object(d.jsx)("a",{className:"nav-item nav-link",href:"/series",children:Object(d.jsx)("u",{className:"textGeneralNav",children:"Series"})})}),Object(d.jsx)(i.b,{to:"/user/community",children:Object(d.jsxs)("a",{className:"nav-item nav-link ",href:"/user/community",children:[Object(d.jsx)("u",{className:"textGeneralNav",children:"Community"})," "]})}),function(){if(t.id)return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(i.b,{to:"/favorites",children:Object(d.jsx)("img",{width:"65",src:"https://cdn-icons.flaticon.com/png/512/4208/premium/4208408.png?token=exp=1646001513~hmac=c70504d9ea61c0d006014897812aca0b"})})})}()]})}),Object(d.jsx)(h,{}),Object(d.jsx)(b,{})]})})},x=[{id:28,name:"Action",icon:"fa-solid fa-gun"},{id:18,name:"Drama",icon:"fa-solid fa-masks-theater"},{id:35,name:"Comedy",icon:"fa-regular fa-face-grin-squint-tears"},{id:80,name:"Crime",icon:" fa-solid fa-user-secret"},{id:878,name:"Science Fiction",icon:"fa-solid fa-shuttle-space"},{id:10751,name:"Kids",icon:"fa-solid fa-baby "},{id:10749,name:"Romance",icon:"fa-solid fa-heart"},{id:99,name:"Documentary",icon:"fa-solid fa-book "},{id:37,name:"Western",icon:"fa-brands fa-sticker-mule"},{id:16,name:"Animation",icon:"fa-solid fa-user-ninja"},{id:10402,name:"Music",icon:"fa-solid fa-guitar"},{id:14,name:"Fantasy",icon:"fa-solid fa-dragon"}],f=function(){return Object(d.jsx)("div",{className:"",children:Object(d.jsx)("nav",{className:"main-menu",children:x.map((function(e,t){return Object(d.jsx)("li",{className:"darkerli",children:Object(d.jsxs)(i.b,{to:"/geners/".concat(e.id),children:[Object(d.jsx)("i",{className:"fa-1 faIcon ".concat(e.icon)}),Object(d.jsx)("span",{className:"nav-text",children:e.name})]})},t)}))})})},p=function(){var e=u(),t=u(),c=u(),a=Object(o.h)();return Object(d.jsx)("section",{className:"top",children:Object(d.jsx)("div",{className:"container h-50",children:Object(d.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-50",children:Object(d.jsx)("div",{className:"col-12 col-sm-9 col-sm-7 col-xl-6",children:Object(d.jsx)("div",{className:"card cardColor",style:{borderRadius:"15px"},children:Object(d.jsxs)("div",{className:"card-body p-4",children:[Object(d.jsx)("h2",{className:"text-uppercase text-center ",children:"Create an account"}),Object(d.jsxs)("form",{onSubmit:function(s){s.preventDefault(),j.a.post("/api/register",{userName:e.value.toLowerCase(),email:t.value,password:c.value}).then((function(e){a("/user/login")})).catch((function(e){return alert("There is already a user with this email")}))},children:[Object(d.jsxs)("div",{className:"form-outline mb-2",children:[Object(d.jsx)("input",Object(m.a)(Object(m.a)({},e),{},{type:"text",id:"form3Example1cg",className:"form-control form-control-sm"})),Object(d.jsx)("label",{className:"form-label textCard",children:"Your Name"})]}),Object(d.jsxs)("div",{className:"form-outline mb-2",children:[Object(d.jsx)("input",Object(m.a)(Object(m.a)({},t),{},{type:"email",id:"form3Example3cg",className:"form-control form-control-sm"})),Object(d.jsx)("label",{className:"form-label textCard",children:"Your Email"})]}),Object(d.jsxs)("div",{className:"form-outline mb-2",children:[Object(d.jsx)("input",Object(m.a)(Object(m.a)({},c),{},{type:"password",id:"form3Example4cg",className:"form-control form-control-sm"})),Object(d.jsx)("label",{className:"form-label textCard",children:"Password"})]}),Object(d.jsxs)("div",{className:"form-check d-flex justify-content-center mb-2",children:[Object(d.jsx)("input",{className:"form-check-input me-2",type:"checkbox",id:"form2Example3cg"}),Object(d.jsxs)("label",{className:"form-check-label textCard",children:["I agree all statements in ",Object(d.jsx)("a",{href:"#!",className:"text-body",children:Object(d.jsx)("u",{children:"Terms of service"})})]})]}),Object(d.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-success btn-block btn-lg gradient-custom-4 botonColor",children:"Register"})}),Object(d.jsxs)("p",{className:"text-center textCard mt-5 mb-0",children:["Have already an account?",Object(d.jsxs)(i.b,{to:"/user/login",children:[Object(d.jsx)("u",{className:"textGeneral",children:" Login here"})," "]})]})]})]})})})})})})},v=function(){var e=u(),t=u(),c=Object(s.useContext)(S).setUser,a=Object(o.h)();return Object(d.jsx)("section",{className:"top",children:Object(d.jsx)("div",{className:"container h-50",children:Object(d.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-50",children:Object(d.jsx)("div",{className:"col-12 col-sm-9 col-sm-7 col-xl-6",children:Object(d.jsx)("div",{className:"card cardColor",style:{borderRadius:"15px"},children:Object(d.jsxs)("div",{className:"card-body p-4",children:[Object(d.jsx)("h2",{className:"text-uppercase text-center ",children:"Login"}),Object(d.jsxs)("form",{onSubmit:function(s){s.preventDefault(),j.a.post("/api/login",{email:e.value,password:t.value}).then((function(e){c(e.data),a("/upcomingMovies")})).catch((function(e){return alert("The email or password does not match, please try again")}))},children:[Object(d.jsxs)("div",{className:"form-outline mb-2",children:[Object(d.jsx)("input",Object(m.a)(Object(m.a)({},e),{},{type:"email",id:"form3Example3cg",className:"form-control form-control-sm"})),Object(d.jsx)("label",{className:"form-label textCard",children:"Your Email"})]}),Object(d.jsxs)("div",{className:"form-outline mb-2",children:[Object(d.jsx)("input",Object(m.a)(Object(m.a)({},t),{},{type:"password",id:"form3Example4cg",className:"form-control form-control-sm"})),Object(d.jsx)("label",{className:"form-label textCard",children:"Password"})]}),Object(d.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.jsx)("button",{type:"submit",className:"btn botonColor btn-success btn-block btn-lg gradient-custom-4 ",children:"Login"})}),Object(d.jsxs)("p",{className:"text-center textCard mt-5 mb-0",children:["You do not have an account?",Object(d.jsx)(i.b,{to:"/user/register",children:Object(d.jsx)("u",{className:"textGeneral",children:" Register here"})})]})]})]})})})})})})},g=function(e){var t=e.range,c=Math.floor(t),a=c/2,s=Object(d.jsx)("i",{className:"fa-regular fa-star"}),n=Object(d.jsx)("i",{className:"fa-solid fa-star-half-stroke rating-color"}),r=Object(d.jsx)("i",{className:"fa-solid fa-star rating-color"}),i=[s,s,s,s,s];if(0!==c)for(var o=0;o<=a;o+=.5){if(c%2===0&&Math.floor(o)===a){i[o]=n;break}i[o]=r}return Object(d.jsxs)(d.Fragment,{children:[i.map((function(e){return e})),Object(d.jsx)("i",{id:"range",children:t})]})},N=function(e){var t=e.data,c=Object(s.useContext)(S).user,n=Object(s.useState)(""),r=Object(a.a)(n,2),i=(r[0],r[1]),o=t.name?"centerSerie":"center",l=function(e){i("enabled"),c.favMoviesId.push(t.id),j.a.post("/api/favorites/add",c).catch((function(e){return console.log(e)}))},b=function(e){i("disabled"),c.favMoviesId=c.favMoviesId.filter((function(e){return e!==t.id})),j.a.post("/api/favorites/remove",c).catch((function(e){return console.log(e)}))},m="",u="".concat(t.overview.slice(0,170),"..."),h=t.title?"".concat(t.title.slice(0,35)):"".concat(t.name.slice(0,35));return t.release_date&&(m=t.release_date.slice(0,4)),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"card movie_card ",children:[Object(d.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(t.poster_path),className:"card-img-top image",alt:"Movie Poster"}),Object(d.jsx)("div",{class:"details",children:Object(d.jsxs)("div",{class:"".concat(o),children:[Object(d.jsx)("h1",{children:h}),Object(d.jsx)("p",{children:u}),Object(d.jsx)("div",{children:!t.name&&c.id?c.favMoviesId.includes(t.id)?Object(d.jsx)("i",{className:"iLike iLike_press",onClick:b}):Object(d.jsx)("i",{className:"iLike",onClick:l}):Object(d.jsx)(d.Fragment,{})})]})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("span",{className:"movie_info float-left",children:[Object(d.jsx)("span",{className:"movie_info",children:m}),Object(d.jsx)("h5",{className:"card-title",children:Object(d.jsx)("strong",{children:h})})]}),Object(d.jsx)(g,{range:t.vote_average})]})]})})},y=function(e){var t=Object(o.i)().type,c=(e[t]?e[t]:e.moviesGener).filter((function(e){return e.poster_path}));return Object(d.jsx)(d.Fragment,{children:c.map((function(e,t){return Object(d.jsx)("div",{children:Object(d.jsx)(N,{data:e})},t)}))})},C=function(){var e=Object(s.useContext)(S),t=e.user,c=e.searched,n=Object(s.useState)([]),r=Object(a.a)(n,2),i=r[0],l=r[1],b=Object(s.useState)([]),m=Object(a.a)(b,2),u=m[0],h=m[1],O=Object(s.useState)([]),x=Object(a.a)(O,2),f=x[0],p=x[1],v=Object(s.useState)([]),g=Object(a.a)(v,2),N=g[0],C=g[1],w=Object(s.useState)([]),k=Object(a.a)(w,2),M=k[0],E=k[1],I=Object(o.i)().id,F=Object(o.g)("/geners/".concat(I));return Object(s.useEffect)((function(){j.a.get("api/movies/upcoming").then((function(e){return C(e.data.results)})).catch((function(e){return console.log(e)})),j.a.get("/api/movies/popular").then((function(e){return l(e.data.results)})).catch((function(e){return console.log(e)})),j.a.get("api/series").then((function(e){return p(e.data.results)})).catch((function(e){return console.log(e)}))}),[]),Object(s.useEffect)((function(){j.a.get("/api/movies/geners/".concat(I)).then((function(e){return E(e.data.results)})).catch((function(e){return console.log(e)}))}),[F]),Object(s.useEffect)((function(){if(t.id){var e=[];t.favMoviesId.map((function(t,c){j.a.get("api/movies/single/".concat(t)).then((function(t){return e.push(t.data)})).catch((function(e){return console.log(e)}))})),h(e)}}),[t.favMoviesId]),I?Object(d.jsx)("div",{className:"containerGrid",children:Object(d.jsx)(y,{moviesGener:M})}):Object(d.jsx)("div",{className:"containerGrid",children:Object(d.jsx)(y,{favorites:u,popularMovies:i,series:f,upcomingMovies:N,search:c})})},w=function(){var e=u(),t=Object(s.useState)(""),c=Object(a.a)(t,2),n=c[0],r=c[1];console.log("searched",n),Object(s.useEffect)((function(){i()}),[n]);var i=function(){return n?Object(d.jsxs)("div",{className:" box bg-white rounded cardCom shadow-sm py-3 px-4",children:[Object(d.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/947/947661.png",alt:"",width:"100",class:"img-fluid rounded-circle mb-3 img-thumbnail shadow-sm"}),Object(d.jsx)("h4",{className:"mb-0 text-white",children:n.userName}),Object(d.jsx)("p",{children:"subject N\xb0: ".concat(n.id," (id)")}),Object(d.jsx)("span",{className:"small ",children:"Planet: Earth"}),Object(d.jsx)("h5",{children:n.email})]}):Object(d.jsxs)("div",{className:"box",children:[Object(d.jsx)("img",{src:"https://cdn-icons.flaticon.com/png/512/2115/premium/2115958.png?token=exp=1646421555~hmac=37a0f15fe2b179fadd63d7b74c10db83",className:"rounded-circle"}),Object(d.jsx)("p",{className:"textGeneral",children:"Sorry! we couldn't find your friend in this dimension"})]})};return Object(d.jsxs)("div",{className:"containerUser",children:[Object(d.jsx)("form",{className:"form-inline formUsers",onSubmit:function(t){console.log("Activate"),t.preventDefault();var c=e.value.toLowerCase();j.a.get("/api/community/".concat(c)).then((function(e){console.log(e),r(e.data[0])}))},children:Object(d.jsx)("input",Object(m.a)(Object(m.a)({},e),{},{className:"form-control mr-sm-2",type:"search",placeholder:"Find friends ej: TarantinoLover190","aria-label":"Search"}))}),Object(d.jsx)(i,{})]})},k=function(){return Object(d.jsx)("div",{className:"containerGrid",children:Object(d.jsxs)("div",{className:"boxNotFound",children:[Object(d.jsx)("h1",{className:"notfoundError",children:"ERROR! 404 page not Found"}),Object(d.jsx)("img",{src:"https://64.media.tumblr.com/642d92669c509994a0cbfe3d5103e49d/tumblr_nywsqe9cbH1v096cfo1_640.gifv",about:"gif"})]})})},M=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O,{}),Object(d.jsx)(f,{}),Object(d.jsxs)(o.d,{children:[Object(d.jsx)(o.b,{path:"/",element:Object(d.jsx)(o.a,{replace:!0,to:"/upcomingMovies"})}),Object(d.jsx)(o.b,{path:"*",element:Object(d.jsx)(k,{})}),Object(d.jsx)(o.b,{path:"/:type",element:Object(d.jsx)(C,{})}),Object(d.jsx)(o.b,{path:"/geners/:id",element:Object(d.jsx)(C,{})}),Object(d.jsx)(o.b,{path:"/user/register",element:Object(d.jsx)(p,{})}),Object(d.jsx)(o.b,{path:"/user/login",element:Object(d.jsx)(v,{})}),Object(d.jsx)(o.b,{path:"/user/community",element:Object(d.jsx)(w,{})})]})]})},S=Object(s.createContext)(),E=function(){var e=Object(s.useState)({}),t=Object(a.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)([]),o=Object(a.a)(r,2),l=o[0],j=o[1];return Object(d.jsx)(i.a,{children:Object(d.jsx)(S.Provider,{value:{user:c,searched:l,setUser:n,setSearched:j},children:Object(d.jsx)(M,{})})})};r.a.render(Object(d.jsx)(E,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.ee8331f2.chunk.js.map