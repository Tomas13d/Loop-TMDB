{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tomas\\\\OneDrive\\\\Escritorio\\\\Proyectos\\\\Bootcamp\\\\Integrador\\\\Loop-TMDB\\\\src\\\\components\\\\Content.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useMatch, useParams } from \"react-router-dom\";\nimport { UserContext } from \"..\";\nimport Grid from \"./Grid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Content = () => {\n  _s();\n  const {\n    user,\n    searched\n  } = useContext(UserContext);\n  const [popularMovies, setPopularMovies] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [series, setSeries] = useState([]);\n  const [upcomingMovies, setUpcomingMovies] = useState([]);\n  const [moviesGener, setMoviesGener] = useState([]);\n\n  //para hacer el pedido a el back /api/movies/geners/ID\n  const {\n    id\n  } = useParams();\n  const match = useMatch(`/geners/${id}`);\n  useEffect(() => {\n    axios.get(\"api/movies/upcoming\").then(res => setUpcomingMovies(res.data.results)).catch(err => console.log(err));\n    axios.get(\"/api/movies/popular\").then(res => setPopularMovies(res.data.results)).catch(err => console.log(err));\n    axios.get(\"api/series\").then(res => setSeries(res.data.results)).catch(err => console.log(err));\n  }, []);\n\n  //geners solo si matchea con /geners/id\n  useEffect(() => {\n    axios.get(`/api/movies/geners/${id}`).then(res => setMoviesGener(res.data.results)).catch(err => console.log(err));\n  }, [match]);\n\n  ///seting favs movies only if the user is login\n  //you can't see series in favs in this proyect (to be continue... )\n  useEffect(() => {\n    if (user.id) {\n      let favMovies = [];\n      user.favMoviesId.map((id, i) => {\n        axios.get(`api/movies/single/${id}`).then(res => favMovies.push(res.data)).catch(err => console.log(err));\n      });\n      setFavorites(favMovies);\n    }\n  }, [user.favMoviesId]);\n  return id ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"containerGrid\",\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      moviesGener: moviesGener\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"containerGrid\",\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      favorites: favorites,\n      popularMovies: popularMovies,\n      series: series,\n      upcomingMovies: upcomingMovies,\n      search: searched\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(Content, \"Pfg0ndai1woZzKc1JddQwDKmiY4=\", false, function () {\n  return [useParams, useMatch];\n});\n_c = Content;\nexport default Content;\nvar _c;\n$RefreshReg$(_c, \"Content\");","map":{"version":3,"names":["axios","React","useEffect","useState","useContext","useMatch","useParams","UserContext","Grid","Content","user","searched","popularMovies","setPopularMovies","favorites","setFavorites","series","setSeries","upcomingMovies","setUpcomingMovies","moviesGener","setMoviesGener","id","match","get","then","res","data","results","catch","err","console","log","favMovies","favMoviesId","map","i","push"],"sources":["C:/Users/tomas/OneDrive/Escritorio/Proyectos/Bootcamp/Integrador/Loop-TMDB/src/components/Content.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useMatch, useParams } from \"react-router-dom\";\nimport { UserContext } from \"..\";\nimport Grid from \"./Grid\";\n\nconst Content = () => {\n  const { user, searched } = useContext(UserContext);\n  const [popularMovies, setPopularMovies] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [series, setSeries] = useState([]);\n  const [upcomingMovies, setUpcomingMovies] = useState([]);\n  const [moviesGener, setMoviesGener] = useState([]);\n\n  //para hacer el pedido a el back /api/movies/geners/ID\n  const { id } = useParams();\n  const match = useMatch(`/geners/${id}`);\n\n  useEffect(() => {\n    axios\n      .get(\"api/movies/upcoming\")\n      .then((res) => setUpcomingMovies(res.data.results))\n      .catch((err) => console.log(err));\n\n    axios\n      .get(\"/api/movies/popular\")\n      .then((res) => setPopularMovies(res.data.results))\n      .catch((err) => console.log(err));\n\n    axios\n      .get(\"api/series\")\n      .then((res) => setSeries(res.data.results))\n      .catch((err) => console.log(err));\n  }, []);\n\n  //geners solo si matchea con /geners/id\n  useEffect(() => {\n    axios\n      .get(`/api/movies/geners/${id}`)\n      .then((res) => setMoviesGener(res.data.results))\n      .catch((err) => console.log(err));\n  }, [match]);\n\n  ///seting favs movies only if the user is login\n  //you can't see series in favs in this proyect (to be continue... )\n  useEffect(() => {\n    if (user.id) {\n      let favMovies = [];\n      user.favMoviesId.map((id, i) => {\n        axios\n          .get(`api/movies/single/${id}`)\n          .then((res) => favMovies.push(res.data))\n          .catch((err) => console.log(err));\n      });\n      setFavorites(favMovies);\n    }\n  }, [user.favMoviesId]);\n\n  \n  return id ? (\n    <div className=\"containerGrid\">\n    <Grid moviesGener={moviesGener} />\n    </div>\n  ) : (\n    <div className=\"containerGrid\">\n    <Grid\n      favorites={favorites}\n      popularMovies={popularMovies}\n      series={series}\n      upcomingMovies={upcomingMovies}\n      search={searched}\n    />\n     </div>\n  );\n};\n\nexport default Content;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}